## 并发关注点

### 1.关注点AQS(AbstractQueuedSynchronizer)

### 2.关注点重入锁

### 3.关注点公平非公平锁

### 4.关注点读写锁--引入SpringCloud Eureka注册中心高并发解决(服务注册与读取)


### 细节问题

#### synchronized底层机制

- 由一对monitorenter/moitorexit指令实现，早期比较重量级，因为依赖操作系统内部互斥锁实现，由于内核态与用户态切换，比较重量

- 后期优化，提供了不同的monitor，大大提升了性能(偏向锁，轻量锁，重量锁)

- 锁的升级：偏向锁->轻量锁->重量锁

- 原理：对象头中的Mark word 设置线程id

- https://time.geekbang.org/column/article/9042

#### Lock的各种实现

- 读写锁与升级版的不同